(this.webpackJsonpCommDash=this.webpackJsonpCommDash||[]).push([[0],{11:function(e,a,t){"use strict";var n=t(114),r=t.n(n).a.create({baseURL:"https://commdash.uqcloud.net"});a.a=r},123:function(e,a,t){"use strict";(function(e){var n=t(6),r=t(0),c=t.n(r),o=(t(189),t(12)),i=t(200),l=t(201),s=t(124),m=t(125),u=t(11),d=t(38),p=new(t.n(d).a)("d2e40102bb65c4ab886c",{cluster:"ap4"});e.URLSearchParams=URLSearchParams;a.a=function(){var e=Object(o.g)(),a=e.type,t=e.title,d=e.roomId,b=Object(r.useState)(null),g=Object(n.a)(b,2),f=g[0],E=g[1],h=Object(r.useState)([]),v=Object(n.a)(h,2),j=v[0],O=v[1],y=Object(r.useCallback)((function(){var e=new URLSearchParams({type:a,title:t,id:d});"group"==a?u.a.get("/get/groupconversation?".concat(e)).then((function(e){E(t),O(e.data)})):u.a.get("/get/conversation?".concat(e)).then((function(e){E(t),O(e.data)}))}),[a,t,d]);return Object(r.useEffect)((function(){y();var e=p.subscribe("conversation"),a=p.subscribe("grps");e.bind("newMessage",(function(e){y()})),a.bind("newgrps",(function(e){y()}))}),[y]),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat__header"},c.a.createElement("div",{className:"chat__headerLeft"},c.a.createElement("h4",{className:"chat__channelName"},c.a.createElement("strong",null," # General "),c.a.createElement(i.a,null))),c.a.createElement("div",{className:"chat__headerRight"},c.a.createElement("p",null,c.a.createElement(l.a,null)," Details"))),c.a.createElement("div",{className:"chat__messages"},j.map((function(e){var a=e.message,t=e.timestamp,n=e.user,r=e.userImage;return c.a.createElement(s.a,{message:a,timestamp:t,user:n,userImage:r})}))),c.a.createElement(m.a,{type:a,channelName:f,channelId:d}))}}).call(this,t(63))},124:function(e,a,t){"use strict";var n=t(0),r=t.n(n);t(190);a.a=function(e){var a=e.message,t=e.timestamp,n=e.user,c=e.userImage;return r.a.createElement("div",{className:"message"},r.a.createElement("img",{src:c,alt:""}),r.a.createElement("div",{className:"message__info"},r.a.createElement("h4",null,n," ",r.a.createElement("span",{className:"message__timestamp"},new Date(parseInt(t)).toUTCString())),r.a.createElement("p",null,a)))}},125:function(e,a,t){"use strict";(function(e){var n=t(6),r=t(11),c=t(0),o=t.n(c),i=(t(191),t(15));e.URLSearchParams=URLSearchParams,a.a=function(e){var a=e.type,t=e.channelName,l=e.channelId,s=Object(c.useState)(""),m=Object(n.a)(s,2),u=m[0],d=m[1],p=Object(i.b)(),b=Object(n.a)(p,1)[0].user;return o.a.createElement("div",{className:"chatInput"},o.a.createElement("form",null,o.a.createElement("input",{value:u,onChange:function(e){return d(e.target.value)},placeholder:"Message #".concat(null===t||void 0===t?void 0:t.toLowerCase())}),o.a.createElement("button",{type:"sumbit",onClick:function(e){e.preventDefault();var n=new URLSearchParams({type:a,title:t,id:l});l&&("group"==a?r.a.post("/new/groupmessage?".concat(n),{message:u,timestamp:Date.now(),user:b.Fname,userImage:"https://www.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png"}):r.a.post("/new/message?".concat(n),{message:u,timestamp:Date.now(),user:b.Fname,userImage:"https://www.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png"})),d("")}},"SEND")))}}).call(this,t(63))},15:function(e,a,t){"use strict";t.d(a,"a",(function(){return o})),t.d(a,"b",(function(){return i}));var n=t(0),r=t.n(n),c=Object(n.createContext)(),o=function(e){var a=e.reducer,t=e.initialState,o=e.children;return r.a.createElement(c.Provider,{value:Object(n.useReducer)(a,t)},o)},i=function(){return Object(n.useContext)(c)}},152:function(e,a,t){e.exports=t(197)},157:function(e,a,t){},158:function(e,a,t){},159:function(e,a,t){},160:function(e,a,t){},189:function(e,a,t){},190:function(e,a,t){},191:function(e,a,t){},192:function(e,a,t){},197:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),o=t.n(c),i=(t(157),t(6)),l=(t(158),t(29)),s=t(49),m=(t(159),t(160),t(12)),u=t(11),d=t(239),p=t(240),b=t(198),g=function(e){var a=e.Icon,t=e.id,n=e.addChannelOption,c=e.title,o=e.type,i=Object(m.f)();return r.a.createElement("div",{onClick:n?function(){var e=prompt("Please enter the channel name");e&&u.a.post("/new/chat?id=".concat(t),{name:e})}:function(){t?i.push("/room/".concat(o,"/").concat(c,"/").concat(t)):i.push("/".concat(c))}},a?r.a.createElement(b.a,{button:!0,key:c},r.a.createElement(d.a,null,r.a.createElement(a,null)),r.a.createElement(p.a,{primary:c})):r.a.createElement(b.a,{button:!0,key:c},r.a.createElement(d.a,null,"#"),r.a.createElement(p.a,{primary:c})))},f=t(118),E=t.n(f),h=t(119),v=t.n(h),j=t(71),O=t.n(j),y=t(15),w=t(38),C=t.n(w),N=t(3),S=t(241),k=t(24),x=t(265),I=t(242),_=t(243),R=t(244),D=t(248),B=t(78),P=t(247),L=t(245),W=t(115),G=t.n(W),T=t(116),U=t.n(T),A=t(117),F=t.n(A),z=t(121),M=t.n(z),q=t(120),H=t.n(q),J=t(122),Q=t.n(J),V=t(249),Y=t(76),$=t.n(Y),K=t(77),X=t.n(K),Z=new C.a("d2e40102bb65c4ab886c",{cluster:"ap4"}),ee=Object(S.a)((function(e){return{root:{display:"flex"},nested:{paddingLeft:e.spacing(4)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function ae(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)([]),s=Object(i.a)(o,2),m=s[0],f=s[1],h=Object(n.useState)([]),j=Object(i.a)(h,2),w=j[0],C=j[1],S=Object(y.b)(),W=Object(i.a)(S,1)[0].user,T=Object(n.useState)(!0),A=Object(i.a)(T,2),z=A[0],q=A[1],J=Object(n.useState)(!0),Y=Object(i.a)(J,2),K=Y[0],ae=Y[1],te=Object(n.useState)(!0),ne=Object(i.a)(te,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(!0),ie=Object(i.a)(oe,2),le=ie[0],se=ie[1],me=function(){u.a.get("/get/chatlist?id=".concat(W.id)).then((function(e){c(e.data)})),u.a.get("/get/peoplelist?id=".concat(W.id)).then((function(e){C(e.data)})),u.a.get("/get/grouplist?id=".concat(W.id)).then((function(e){f(e.data)}))};Object(n.useEffect)((function(){me();var e=Z.subscribe("chats"),a=Z.subscribe("grps");e.bind("newChats",(function(e){me()})),a.bind("newgrps",(function(e){me()}))}),[]);var ue=ee(),de=Object(k.a)();return r.a.createElement("div",{className:ue.root},r.a.createElement(I.a,null),r.a.createElement(_.a,{position:"fixed",className:Object(N.default)(ue.appBar,Object(l.a)({},ue.appBarShift,z))},r.a.createElement(R.a,null,r.a.createElement(L.a,{color:"inherit","aria-label":"open drawer",onClick:function(){q(!0)},edge:"start",className:Object(N.default)(ue.menuButton,z&&ue.hide)},r.a.createElement(G.a,null)),r.a.createElement(B.a,{variant:"h6",noWrap:!0},"CommDash, Get Connected!"))),r.a.createElement(x.a,{className:ue.drawer,variant:"persistent",anchor:"left",open:z,classes:{paper:ue.drawerPaper}},r.a.createElement("div",{className:ue.drawerHeader},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",W.Fname," ")),r.a.createElement(L.a,{onClick:function(){q(!1)}},"ltr"===de.direction?r.a.createElement(U.a,null):r.a.createElement(F.a,null))),r.a.createElement(P.a,null),r.a.createElement(D.a,null,r.a.createElement(g,{Icon:E.a,title:"Announcements",type:"announcements"}),r.a.createElement(g,{Icon:v.a,title:"Events",type:"events"}),r.a.createElement(g,{Icon:H.a,title:"Groups"}),r.a.createElement(g,{Icon:M.a,title:"People"}),r.a.createElement(P.a,null),r.a.createElement(b.a,{button:!0,onClick:function(){se(!le)}},r.a.createElement(d.a,null,le?r.a.createElement($.a,null):r.a.createElement(X.a,null)),r.a.createElement(p.a,{primary:"Groups"})),r.a.createElement(V.a,{in:le,timeout:"auto",unmountOnExit:!0},r.a.createElement(D.a,{component:"div",disablePadding:!0},m.map((function(e){return r.a.createElement(b.a,{button:!0,className:ue.nested},r.a.createElement(g,{title:e.name,id:e.grp_id,type:"group"}))})))),r.a.createElement(b.a,{button:!0,onClick:function(){ce(!re)}},r.a.createElement(d.a,null,re?r.a.createElement($.a,null):r.a.createElement(X.a,null)),r.a.createElement(p.a,{primary:"People"})),r.a.createElement(V.a,{in:re,timeout:"auto",unmountOnExit:!0},r.a.createElement(D.a,{component:"div",disablePadding:!0},w.map((function(e){return r.a.createElement(b.a,{button:!0,className:ue.nested},r.a.createElement(g,{title:e.name,id:W.id,type:"people"}))})))),r.a.createElement(g,{id:W.id,Icon:O.a,addChannelOption:!0,title:"Add Channel"}),r.a.createElement(b.a,{button:!0,onClick:function(){ae(!K)}},r.a.createElement(d.a,null,r.a.createElement(Q.a,null)),r.a.createElement(p.a,{primary:"Your Channels"}),K?r.a.createElement($.a,null):r.a.createElement(X.a,null)),r.a.createElement(V.a,{in:K,timeout:"auto",unmountOnExit:!0},r.a.createElement(D.a,{component:"div",disablePadding:!0},t.map((function(e){return r.a.createElement(b.a,{button:!0,className:ue.nested},r.a.createElement(g,{title:e.name,id:W.id,type:"chats"}))})))))),r.a.createElement("main",{className:Object(N.default)(ue.content,Object(l.a)({},ue.contentShift,z))},r.a.createElement("div",{className:ue.drawerHeader})))}var te=t(45),ne=t(123),re=(t(192),"SET_USER"),ce=function(e,a){switch(console.log(a),a.type){case re:return Object(s.a)(Object(s.a)({},e),{},{user:a.user});default:return e}},oe=t(266),ie=t(255),le=t(264),se=t(251),me=t(126),ue=t.n(me),de=t(4),pe=t(250),be=t(267),ge=t(254),fe=t(262),Ee=t(130),he=Object(de.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(Ee.a),ve=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function je(){var e=ve(),a=Object(m.f)(),t=Object(y.b)(),c=Object(i.a)(t,2),o=(c[0],c[1]),l=Object(n.useState)(),s=Object(i.a)(l,2),d=s[0],p=s[1],b=Object(n.useState)(),g=Object(i.a)(b,2),f=g[0],E=g[1],h=Object(n.useState)(),v=Object(i.a)(h,2),j=v[0],O=v[1],w=Object(n.useState)(" "),C=Object(i.a)(w,2),N=C[0],S=C[1];return r.a.createElement(pe.a,{component:"main",maxWidth:"xs"},r.a.createElement(I.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(oe.a,{className:e.avatar},r.a.createElement(ue.a,null)),r.a.createElement(B.a,{component:"h1",variant:"h5"},"Sign IN"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),u.a.post("/login",{user:{firstName:d,lastName:f,email:j,profession:N}}).then((function(e){o({type:re,user:{Fname:d,Lname:f,id:e.data._id,email:j}}),a.push("/".concat(e.data._id))}))}},r.a.createElement(se.a,{container:!0,spacing:2},r.a.createElement(se.a,{item:!0,xs:12,sm:6},r.a.createElement(le.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return p(e.target.value)}})),r.a.createElement(se.a,{item:!0,xs:12,sm:6},r.a.createElement(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return E(e.target.value)}})),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return O(e.target.value)}})),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(be.a,{id:"profession-select-label"},"Profession"),r.a.createElement(fe.a,{labelId:"profession-select-label",id:"profession-select",value:N,style:{marginBottom:10,width:"100%"},onChange:function(e){return S(e.target.value)},input:r.a.createElement(he,null),required:!0},r.a.createElement(ge.a,{value:"ATH"},"Academic Title Holder"),r.a.createElement(ge.a,{value:"UQ Staff"},"UQ Staff"),r.a.createElement(ge.a,{value:"Student"},"Student")))),r.a.createElement(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log In"))))}var Oe=t(17),ye=t(127),we=t.n(ye),Ce=t(256),Ne=t(257),Se=t(260),ke=t(259),xe=t(258),Ie=t(263),_e=t(246),Re=t(199),De=Object(S.a)((function(e){return{root:{marginTop:70,maxWidth:345},media:{height:140},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Be(e){var a=e.grpName,t=e.grpDescr,n=e.grpImage,c=(e.admin,e.grpID),o=void 0===c?null:c,l=De(),s=Object(y.b)(),m=Object(i.a)(s,2),d=m[0].user,p=(m[1],r.a.useState(!1)),b=Object(i.a)(p,2),g=b[0],f=b[1];return r.a.createElement("div",null,r.a.createElement(Ce.a,{className:l.root},r.a.createElement(Ne.a,null,r.a.createElement(xe.a,{className:l.media,image:n,title:"Contemplative Reptile"}),r.a.createElement(ke.a,null,r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",component:"h2"},a))),r.a.createElement(Se.a,null,r.a.createElement(ie.a,{size:"small",color:"primary",onClick:function(){f(!0)}},"Learn More"),r.a.createElement(ie.a,{size:"small",color:"primary",onClick:function(){u.a.post("/add/group?id=".concat(d.id),{name:a,grp_id:o})}},"Chat"))),r.a.createElement(Ie.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:l.modal,open:g,onClose:function(){f(!1)},closeAfterTransition:!0,BackdropComponent:_e.a,BackdropProps:{timeout:500}},r.a.createElement(Re.a,{in:g},r.a.createElement("div",{className:l.paper},r.a.createElement("h2",{id:"transition-modal-title"},"More about ",a),r.a.createElement("p",{id:"transition-modal-description"},t)))))}var Pe=t(75),Le=t(261),We=new C.a("d2e40102bb65c4ab886c",{cluster:"ap4"}),Ge=Object(S.a)((function(e){return{root:{flexGrow:1,marginTop:68,marginBottom:95},cardRoot:{maxWidth:230,maxHeight:230,overflow:"hidden",justifyContent:"center",alignContent:"center",backgroundColor:"grey"},cardAction:{width:"100%",display:Le.a},search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Oe.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Oe.a)(e.palette.common.white,.25)},marginLeft:0,width:"80%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",zIndex:"100",color:"black",justifyContent:"center"},inputRoot:{color:"inherit",backgroundColor:"aliceblue",width:"100%"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"60%","&:focus":{width:"100%"}}),modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},submit:{margin:e.spacing(3,0,2)},input:{display:"none"}}}));function Te(){var e=Ge(),a=Object(m.f)(),t=Object(y.b)(),c=Object(i.a)(t,1)[0].user,o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],d=l[1],p=Object(n.useState)(!1),b=Object(i.a)(p,2),g=b[0],f=b[1],E=Object(n.useState)(" "),h=Object(i.a)(E,2),v=h[0],j=h[1],w=Object(n.useState)(" "),C=Object(i.a)(w,2),N=C[0],S=C[1],k=Object(n.useState)(" "),x=Object(i.a)(k,2),I=x[0],_=x[1],R=function(){u.a.get("/get/groups").then((function(e){d(e.data)}))};return Object(n.useEffect)((function(){R(),We.subscribe("grps").bind("newgrps",(function(e){R()}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(we.a,null)),r.a.createElement(Ee.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:e.root},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:4},r.a.createElement(Ce.a,{className:e.cardRoot,onClick:function(){f(!0)}},r.a.createElement(Ne.a,{className:e.cardAction},r.a.createElement(ke.a,null,r.a.createElement(O.a,{style:{color:Pe.a[500],height:"100%",width:"auto"}}))))),s.map((function(e){return r.a.createElement(se.a,{item:!0,xs:4},r.a.createElement(Be,{grpName:e.group.Name,grpDescr:e.group.description,grpImage:e.group.grpImage,admin:e.group.admin,grpID:e._id}))}))),r.a.createElement(Ie.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:g,onClose:function(){f(!1)},closeAfterTransition:!0,BackdropComponent:_e.a,BackdropProps:{timeout:500}},r.a.createElement(Re.a,{in:g},r.a.createElement("div",{className:e.paper},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f(!1),u.a.post("/new/groups",{group:{Name:v,description:N,admin:c.id,grpImage:I}}).then((function(e){u.a.post("/add/group?id=".concat(c.id),{name:v,grp_id:e.data._id}),a.push("/".concat(c.id))}))}},r.a.createElement(se.a,{container:!0,spacing:2},r.a.createElement(se.a,{item:!0,xs:6,sm:6},r.a.createElement(le.a,{autoComplete:"GrpName",name:"GroupName",variant:"outlined",required:!0,fullWidth:!0,id:"Group Name",label:"Group Name",autoFocus:!0,onChange:function(e){return j(e.target.value)}})),r.a.createElement(se.a,{item:!0,xs:6,sm:6},r.a.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){var a=e.target.files[0];_(a)}}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(ie.a,{variant:"contained",color:"primary",component:"span"},"Upload Image"))),r.a.createElement(se.a,{item:!0,xs:12,sm:12},r.a.createElement(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"Description",label:"Group Description",name:"Group Description",autoComplete:"Group Description",onChange:function(e){return S(e.target.value)}}))),r.a.createElement(ie.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Create Group"))))),r.a.createElement("div",null)))}var Ue=t(22),Ae=t(268),Fe=t(94),ze=t.n(Fe),Me=t(74),qe=Object(S.a)((function(e){return{paper:{padding:e.spacing(1)},node:{height:30,width:150,borderWidth:1,borderStyle:"solid",borderColor:ze.a[900],borderRadius:5,textAlign:"center",background:ze.a[50]},button:{pointer:"",zIndex:999,borderStyle:"solid",borderColor:Me.a[500]},root:{maxWidth:345},media:{height:140}}}));var He=function(e){var a=e.data,t=qe(),c=Object(y.b)(),o=Object(i.a)(c,2),l=o[0].user,s=(o[1],Object(n.useState)(null)),m=Object(i.a)(s,2),d=m[0],p=m[1],b=Boolean(d),g=b?"simple-popover":void 0;return r.a.createElement("div",{className:t.node},r.a.createElement(Ue.c,{type:"target",position:Ue.e.Top}),r.a.createElement(B.a,{"aria-describedby":g,color:"primary",onClick:function(e){p(e.currentTarget)}},a.value.firstName),r.a.createElement(Ae.a,{id:g,classes:{paper:t.paper},open:b,anchorEl:d,onClose:function(){p(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ce.a,{className:t.root},r.a.createElement(Ne.a,null,r.a.createElement(xe.a,{className:t.media,image:a.value.userImage,title:"Contemplative Reptile"}),r.a.createElement(ke.a,null,r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.value.firstName," ",a.value.lastName),r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",component:"h3"},"Email: ",a.value.email),r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",component:"h3"},"Designation: ",a.value.profession))),r.a.createElement(Se.a,null,r.a.createElement(ie.a,{className:t.button,size:"small",color:"primary",onClick:function(){u.a.post("/add/people?id=".concat(l.id),{id:a.keys,name:a.value.firstName,relation:{name:"Colleague"}})}},"Chat")))),r.a.createElement(Ue.c,{type:"source",position:Ue.e.Bottom,id:"b"}))},Je=function(e){return console.log("flow loaded:",e)},Qe=new C.a("d2e40102bb65c4ab886c",{cluster:"ap4"}),Ve={hoverDisplay:He},Ye=0,$e=function(){var e=Object(Ue.j)([]),a=Object(i.a)(e,3),t=a[0],c=(a[1],a[2]),o=Object(Ue.i)([]),l=Object(i.a)(o,3),s=l[0],m=l[1],d=l[2],p=Object(y.b)(),b=Object(i.a)(p,1)[0].user,g=function(e){return m((function(a){return Object(Ue.g)(e,a)}))},f=Object(Ue.k)(),E=Object(n.useCallback)((function(){u.a.get("/get/users").then((function(e){for(var a in e.data){var t={id:a,type:"hoverDisplay",position:{x:500*Math.random(),y:500*Math.random()},data:{keys:a,value:e.data[a]}};f.addNodes(t)}}));var e=b.id;u.a.get("/get/peoplelist?id=".concat(b.id)).then((function(a){for(var t in a.data){console.log(a.data),console.log(e),console.log(a.data[t].id);var n={id:"".concat(++Ye),source:e,target:a.data[t].id};g(n)}}))}),[]);return Object(n.useEffect)((function(){E(),Qe.subscribe("chats").bind("newChats",(function(e){E()}))}),[]),r.a.createElement(Ue.h,{nodes:t,edges:s,onNodesChange:c,onEdgesChange:d,onConnect:g,onInit:Je,nodeTypes:Ve,fitView:!0,attributionPosition:"top-right"},r.a.createElement(Ue.d,{nodeStrokeColor:function(e){var a;return(null===(a=e.style)||void 0===a?void 0:a.background)?e.style.background:"input"===e.type?"#0041d0":"output"===e.type?"#ff0072":"default"===e.type?"#1a192b":"#eee"},nodeColor:function(e){var a;return(null===(a=e.style)||void 0===a?void 0:a.background)?e.style.background:"#fff"},nodeBorderRadius:2}),r.a.createElement(Ue.b,null),r.a.createElement(Ue.a,{color:"#aaa",gap:16}))},Ke=function(){return r.a.createElement(Ue.f,null,r.a.createElement($e,null))};var Xe=function(){var e=Object(y.b)(),a=Object(i.a)(e,1)[0].user;return r.a.createElement("div",{className:"app"},r.a.createElement(te.a,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app__body"},r.a.createElement(ae,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/room/:type/:title/:roomId"},r.a.createElement(ne.a,null)),r.a.createElement(m.a,{path:"/Announcements/:user_id"},r.a.createElement("h1",{style:{marginTop:"18vh"}},"Welcome ",a.name)),r.a.createElement(m.a,{path:"/Groups"},r.a.createElement(Te,null)),r.a.createElement(m.a,{path:"/People"},r.a.createElement(Ke,null))))):r.a.createElement(je,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y.a,{initialState:{user:null},reducer:ce},r.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.e547ac21.chunk.js.map